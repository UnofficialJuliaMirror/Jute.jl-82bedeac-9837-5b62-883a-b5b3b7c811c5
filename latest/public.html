<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public API · Jute.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Jute.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="manual.html">Manual</a></li><li class="current"><a class="toctext" href="public.html">Public API</a><ul class="internal"><li><a class="toctext" href="#Entry-point-1">Entry point</a></li><li><a class="toctext" href="#Testcases-and-fixtures-1">Testcases and fixtures</a></li><li><a class="toctext" href="#Assertions-1">Assertions</a></li><li><a class="toctext" href="#Built-in-fixtures-1">Built-in fixtures</a></li></ul></li><li><a class="toctext" href="internals.html">Internals</a></li><li><a class="toctext" href="history.html">Version history</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="public.html">Public API</a></li></ul><a class="edit-page" href="https://github.com/fjarri/Jute.jl/blob/master/docs/src/public.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Public API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Public-API-1" href="#Public-API-1">Public API</a></h1><h2><a class="nav-anchor" id="Entry-point-1" href="#Entry-point-1">Entry point</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.runtests" href="#Jute.runtests"><code>Jute.runtests</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">runtests(; options=nothing, ignore_commandline=false)</code></pre><p>Run the test suite.</p><p>This function has several side effects:</p><ul><li>it parses the command-line arguments, using them to build the dictionary of run options (see <a href="manual.html#run_options_manual-1">Run options</a> in the manual for the list);</li><li>it picks up and includes the test files, selected according to the options.</li></ul><p><code>options</code> must be a dictionary with the keys corresponding to some of the options from the above list. If <code>options</code> is given, command-line arguments are not parsed.</p><p>If <code>ignore_commandline</code> is <code>true</code>, command-line arguments passed to the program will not be used. This option can be helpful if one wants to be sure that the run options used are exactly the ones specified in the call.</p><p>Returns <code>0</code> if there are no failed tests, <code>1</code> otherwise.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/runtests.jl#L226-L245">source</a></section><h2><a class="nav-anchor" id="Testcases-and-fixtures-1" href="#Testcases-and-fixtures-1">Testcases and fixtures</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.@testcase" href="#Jute.@testcase"><code>Jute.@testcase</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@testcase [option=val ...] &lt;name&gt; begin ... end
@testcase [option=val ...] &lt;name&gt; for x in fx1, (y, z) in fx2 ... end</code></pre><p>Create a testcase object and add it to the current test group.</p><p>Available options:</p><p><code>tags :: Array{Symbol, 1}</code>: a list of tags for the testcase.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/macros.jl#L84-L93">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.@testgroup" href="#Jute.@testgroup"><code>Jute.@testgroup</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@testgroup &lt;name&gt; begin ... end</code></pre><p>Create a test group. The body can contain other <a href="public.html#Jute.@testgroup"><code>@testgroup</code></a> or <a href="public.html#Jute.@testcase"><code>@testcase</code></a> declarations.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/macros.jl#L122-L127">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.@global_fixture" href="#Jute.@global_fixture"><code>Jute.@global_fixture</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@global_fixture [option=val ...] &lt;name&gt; begin ... end
@global_fixture [option=val ...] &lt;name&gt; for x in fx1, (y, z) in fx2 ... end</code></pre><p>Create a global fixture (a fixture set up once before all the testcases that use it and torn down after they finish).</p><p>The body must contain a single call to <a href="public.html#Jute.@produce"><code>@produce</code></a>, producing a single value.</p><p>The iterables in the <code>for</code> loop are either fixtures (constant of global only), iterable objects or pairs of two iterables used to parametrize the fixture.</p><p>Available options:</p><p><code>instant_teardown :: Bool</code>: if <code>true</code>, the part of the fixture body after the <a href="public.html#Jute.@produce"><code>@produce</code></a> will be executed immediately.</p><p>Returns a <a href="internals.html#Jute.GlobalFixture"><code>GlobalFixture</code></a> object.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/macros.jl#L181-L199">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.@local_fixture" href="#Jute.@local_fixture"><code>Jute.@local_fixture</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@local_fixture &lt;name&gt; begin ... end
@local_fixture &lt;name&gt; for x in fx1, (y, z) in fx2 ... end</code></pre><p>Create a local fixture (a fixture set up before each testcase that uses it and torn down afterwards).</p><p>The body must contain a single call to <a href="public.html#Jute.@produce"><code>@produce</code></a>, producing a single value.</p><p>The iterables in the <code>for</code> loop are either fixtures (constant of global only), iterable objects or pairs of two iterables used to parametrize the fixture.</p><p>Returns a <a href="internals.html#Jute.LocalFixture"><code>LocalFixture</code></a> object.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/macros.jl#L205-L218">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.@produce" href="#Jute.@produce"><code>Jute.@produce</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@produce &lt;val&gt; [&lt;label&gt;]</code></pre><p>Produce a fixture value (with an optional label). Must only be called inside the bodies of <a href="public.html#Jute.@local_fixture"><code>@local_fixture</code></a> and <a href="public.html#Jute.@global_fixture"><code>@global_fixture</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/macros.jl#L224-L229">source</a></section><h2><a class="nav-anchor" id="Assertions-1" href="#Assertions-1">Assertions</a></h2><p>The following assertions are re-exported from <a href="https://docs.julialang.org/en/latest/stdlib/Test/"><code>Test</code></a> and can be used inside <code>Jute</code> testcases.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test" href="#Test.@test"><code>Test.@test</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>See <a href="https://docs.julialang.org/en/latest/stdlib/Test/#Test.@test"><code>Test.@test</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L10">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_throws" href="#Test.@test_throws"><code>Test.@test_throws</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>See <a href="https://docs.julialang.org/en/latest/stdlib/Test/#Test.@test_throws"><code>Test.@test_throws</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L13">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_broken" href="#Test.@test_broken"><code>Test.@test_broken</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>See <a href="https://docs.julialang.org/en/latest/stdlib/Test/#Test.@test_broken"><code>Test.@test_broken</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L16">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_skip" href="#Test.@test_skip"><code>Test.@test_skip</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>See <a href="https://docs.julialang.org/en/latest/stdlib/Test/#Test.@test_skip"><code>Test.@test_skip</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@inferred" href="#Test.@inferred"><code>Test.@inferred</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>See <a href="https://docs.julialang.org/en/latest/stdlib/Test/#Test.@inferred"><code>Test.@inferred</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L28">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_warn" href="#Test.@test_warn"><code>Test.@test_warn</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>See <a href="https://docs.julialang.org/en/latest/stdlib/Test/#Test.@test_warn"><code>Test.@test_warn</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L22">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_nowarn" href="#Test.@test_nowarn"><code>Test.@test_nowarn</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>See <a href="https://docs.julialang.org/en/latest/stdlib/Test/#Test.@test_nowarn"><code>Test.@test_nowarn</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L25">source</a></section><p><code>Jute</code> adds several assertions of its own.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.@test_result" href="#Jute.@test_result"><code>Jute.@test_result</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@test_result expr</code></pre><p>Records a result from the test. The result of <code>expr</code> will be displayed in the report by calling <code>string()</code> on it.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L37-L42">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.@test_fail" href="#Jute.@test_fail"><code>Jute.@test_fail</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@test_fail descr</code></pre><p>Report a fail, providing an additional description (must be convertable to <code>String</code>). The description will be displayed in the final report at the end of the test run.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L55-L60">source</a></section><p>Assertions can be made to terminate the testcase on failure.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.@critical" href="#Jute.@critical"><code>Jute.@critical</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@critical expr</code></pre><p>Terminates the testcase on failure of an assertion <code>expr</code>. <code>expr</code> must start from one of <a href="public.html#Test.@test"><code>@test</code></a>, <a href="public.html#Jute.@test_fail"><code>@test_fail</code></a>, <a href="public.html#Test.@test_throws"><code>@test_throws</code></a>, <a href="public.html#Test.@test_broken"><code>@test_broken</code></a>, <a href="public.html#Test.@inferred"><code>@inferred</code></a>, <a href="public.html#Test.@test_warn"><code>@test_warn</code></a>, <a href="public.html#Test.@test_nowarn"><code>@test_nowarn</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/run_testcase.jl#L83-L90">source</a></section><h2><a class="nav-anchor" id="Built-in-fixtures-1" href="#Built-in-fixtures-1">Built-in fixtures</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.temporary_dir" href="#Jute.temporary_dir"><code>Jute.temporary_dir</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>A local fixture that creates a temporary directory and returns its name; the directory and all its contents is removed during the teardown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/builtin_fixtures.jl#L1-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jute.run_options" href="#Jute.run_options"><code>Jute.run_options</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>A global fixture that returns the dictionary with the current run options (see <a href="manual.html#run_options_manual-1"><code>Run options</code></a> in the manual for the full list.</p></div></div><a class="source-link" target="_blank" href="https://github.com/fjarri/Jute.jl/blob/7e3aa8b1b821a5d073c37a83e442a1793e8c69c3/src/builtin_fixtures.jl#L12-L15">source</a></section><footer><hr/><a class="previous" href="manual.html"><span class="direction">Previous</span><span class="title">Manual</span></a><a class="next" href="internals.html"><span class="direction">Next</span><span class="title">Internals</span></a></footer></article></body></html>
